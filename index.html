<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Technology Expert's</title>

  <style>
    :root{
      --bg1:#050821;
      --bg2:#070f3a;
      --card:#0b1238cc;
      --card2:#0b123899;
      --text:#eaf0ff;
      --muted:#a9b6ff;

      --neon-blue:#37b8ff;
      --neon-purple:#a855ff;
      --neon-green:#2cffc6;

      --shadow: 0 20px 70px rgba(0,0,0,.55);
      --radius: 22px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      color:var(--text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:
        radial-gradient(900px 500px at 80% 20%, rgba(55,184,255,.20), transparent 55%),
        radial-gradient(700px 420px at 20% 85%, rgba(168,85,255,.18), transparent 55%),
        radial-gradient(900px 500px at 70% 110%, rgba(44,255,198,.12), transparent 55%),
        linear-gradient(180deg, var(--bg2), var(--bg1));
      overflow-x:hidden;
    }

    .wrap{
      min-height:100%;
      padding: 22px 16px 34px;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .panel{
      width:min(980px, 100%);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border: 1px solid rgba(255,255,255,.10);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      overflow:hidden;
      position:relative;
    }

    .panel::before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(12px 12px at 15% 20%, rgba(255,255,255,.18), transparent 60%),
        radial-gradient(9px 9px at 75% 30%, rgba(255,255,255,.14), transparent 60%),
        radial-gradient(10px 10px at 55% 70%, rgba(255,255,255,.12), transparent 60%);
      pointer-events:none;
      opacity:.7;
    }

    .header{
      padding: 26px 22px 10px;
    }
    .title{
      font-size: clamp(34px, 4.2vw, 54px);
      font-weight: 900;
      margin:0;
      letter-spacing: .2px;
      text-shadow: 0 10px 40px rgba(0,0,0,.45);
    }
    .subtitle{
      margin: 8px 0 0;
      color: var(--muted);
      font-weight: 600;
      font-size: 15px;
      line-height:1.35;
    }

    .content{
      padding: 16px 22px 24px;
      display:grid;
      gap: 16px;
    }

    .roleGrid{
      display:grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 14px;
    }

    @media (max-width: 720px){
      .roleGrid{
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
      .header{ padding: 22px 16px 8px; }
      .content{ padding: 14px 16px 20px; }
    }

    @media (max-width: 420px){
      .roleGrid{
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
      .roleGrid .tile:nth-child(3){
        grid-column: span 2;
      }
    }

    /* ====== NEON TILE ====== */
    .tile{
      position:relative;
      padding: 16px 14px 14px;
      border-radius: 18px;
      background: linear-gradient(180deg, rgba(8,12,28,.85), rgba(6,10,26,.75));
      border: 1px solid rgba(255,255,255,.10);
      box-shadow: 0 14px 40px rgba(0,0,0,.35);
      cursor:pointer;
      user-select:none;
      transition: transform .18s ease, box-shadow .18s ease;
      outline:none;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      min-height: 132px;
    }
    .tile:active{ transform: scale(.99); }
    .tile:hover{ transform: translateY(-2px); box-shadow: 0 18px 48px rgba(0,0,0,.42); }

    .tile::before{
      content:"";
      position:absolute;
      inset:-2px;
      border-radius: 20px;
      background: radial-gradient(100% 80% at 50% 50%, rgba(55,184,255,.28), transparent 55%);
      filter: blur(10px);
      opacity:.0;
      transition: opacity .18s ease;
      pointer-events:none;
    }
    .tile:hover::before{ opacity:.9; }

    .tile.admin{ box-shadow: 0 18px 48px rgba(55,184,255,.10); }
    .tile.ventas{ box-shadow: 0 18px 48px rgba(168,85,255,.10); }
    .tile.tecnico{ box-shadow: 0 18px 48px rgba(44,255,198,.10); }

    .tileBorder{
      position:absolute;
      inset:0;
      border-radius: 18px;
      pointer-events:none;
      opacity:.95;
    }
    .tile.admin .tileBorder{
      border: 2px solid rgba(55,184,255,.55);
      box-shadow: 0 0 26px rgba(55,184,255,.35), inset 0 0 22px rgba(55,184,255,.12);
    }
    .tile.ventas .tileBorder{
      border: 2px solid rgba(168,85,255,.55);
      box-shadow: 0 0 26px rgba(168,85,255,.35), inset 0 0 22px rgba(168,85,255,.12);
    }
    .tile.tecnico .tileBorder{
      border: 2px solid rgba(44,255,198,.55);
      box-shadow: 0 0 26px rgba(44,255,198,.35), inset 0 0 22px rgba(44,255,198,.12);
    }

    .iconWrap{
      width:64px; height:64px;
      border-radius: 16px;
      display:flex;
      align-items:center;
      justify-content:center;
      background: rgba(255,255,255,.04);
      border: 1px solid rgba(255,255,255,.10);
      margin-bottom: 10px;
    }
    .tile.admin .iconWrap{ box-shadow: 0 0 0 1px rgba(55,184,255,.25), 0 0 18px rgba(55,184,255,.20); }
    .tile.ventas .iconWrap{ box-shadow: 0 0 0 1px rgba(168,85,255,.25), 0 0 18px rgba(168,85,255,.20); }
    .tile.tecnico .iconWrap{ box-shadow: 0 0 0 1px rgba(44,255,198,.25), 0 0 18px rgba(44,255,198,.20); }

    .tileLabel{
      font-weight: 900;
      letter-spacing: .6px;
      text-transform: uppercase;
      font-size: 13px;
      margin:0;
    }

    /* ====== BUTTONS / INPUTS (reutilizables) ====== */
    .btn{
      appearance:none;
      border:none;
      cursor:pointer;
      border-radius: 14px;
      padding: 12px 14px;
      font-weight: 900;
      letter-spacing: .2px;
      color: #fff;
      background: #000;
      box-shadow: 0 0 0 1px rgba(255,255,255,.10), 0 14px 30px rgba(0,0,0,.35);
      transition: transform .12s ease, box-shadow .12s ease;
    }
    .btn:active{ transform: scale(.99); }
    .btn.neonBlue{ box-shadow: 0 0 0 1px rgba(55,184,255,.35), 0 0 18px rgba(55,184,255,.25), 0 14px 30px rgba(0,0,0,.35); }
    .btn.neonPurple{ box-shadow: 0 0 0 1px rgba(168,85,255,.35), 0 0 18px rgba(168,85,255,.25), 0 14px 30px rgba(0,0,0,.35); }
    .btn.neonGreen{ box-shadow: 0 0 0 1px rgba(44,255,198,.35), 0 0 18px rgba(44,255,198,.25), 0 14px 30px rgba(0,0,0,.35); }

    .row{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
    @media (max-width: 720px){
      .row{ grid-template-columns: 1fr; }
    }

    .field{
      display:flex;
      flex-direction:column;
      gap: 6px;
    }
    .label{
      font-size: 12px;
      color: var(--muted);
      font-weight: 800;
      letter-spacing: .2px;
    }
    input{
      width:100%;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.55);
      color: #fff;
      font-weight: 800;
      outline: none;
    }
    input::placeholder{ color: rgba(255,255,255,.35); font-weight: 700; }

    .help{
      color: rgba(255,255,255,.55);
      font-size: 12px;
      line-height: 1.35;
      margin:0;
    }
/* ====== MODAL ====== */
    .modalBack{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,.55);
      display:none;
      align-items:center;
      justify-content:center;
      padding: 14px;
      z-index: 1000;
    }
    .modalBack.show{ display:flex; }

    .modal{
      width: min(520px, 100%);
      border-radius: 20px;
      background: linear-gradient(180deg, rgba(10,14,36,.92), rgba(6,10,26,.92));
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .modalHead{
      padding: 14px 16px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      border-bottom: 1px solid rgba(255,255,255,.08);
    }
    .modalTitle{
      margin:0;
      font-weight: 950;
      letter-spacing:.2px;
    }
    .x{
      width: 40px; height: 40px;
      border-radius: 12px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      color:#fff;
      font-weight: 900;
      cursor:pointer;
    }
    .modalBody{ padding: 14px 16px 16px; }

    .pwWrap{
      position:relative;
    }
    .eyeBtn{
      position:absolute;
      right: 8px;
      top: 50%;
      transform: translateY(-50%);
      width: 40px;
      height: 40px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color:#fff;
      cursor:pointer;
    }

    .footer{
      padding: 10px 16px 16px;
      display:flex;
      gap: 10px;
      justify-content:flex-end;
      flex-wrap:wrap;
    }

    .smallNote{
      margin: 10px 0 0;
      font-size: 12px;
      color: rgba(255,255,255,.55);
      line-height: 1.4;
    }

    /* simple fade-in */
    .fadeIn{
      animation: fadeIn .25s ease both;
    }
    @keyframes fadeIn{
      from{ opacity:0; transform: translateY(6px); }
      to{ opacity:1; transform: translateY(0); }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="panel fadeIn" id="rolePanel">
      <div class="header">
        <h1 class="title" id="bizName">Technology Expert's</h1>
        <p class="subtitle">Selecciona qui√©n ingresa (dise√±o Ne√≥n Tech). PC / Android / iPhone.</p>
      </div>

      <div class="content">
        <div class="roleGrid">
          <button class="tile admin" data-role="admin" type="button" aria-label="Administrador">
            <div class="tileBorder"></div>
            <div class="iconWrap" aria-hidden="true">
              <!-- Shield -->
              <svg width="34" height="34" viewBox="0 0 24 24" fill="none">
                <path d="M12 2l8 4v6c0 6-3.5 9.5-8 10-4.5-.5-8-4-8-10V6l8-4z"
                      stroke="rgba(55,184,255,.95)" stroke-width="1.8" />
                <path d="M8.5 12.2l2.2 2.3 4.8-5.2"
                      stroke="rgba(55,184,255,.95)" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <p class="tileLabel">ADMINISTRADOR</p>
          </button>

          <button class="tile ventas" data-role="ventas" type="button" aria-label="Ventas">
            <div class="tileBorder"></div>
            <div class="iconWrap" aria-hidden="true">
              <!-- Receipt -->
              <svg width="34" height="34" viewBox="0 0 24 24" fill="none">
                <path d="M7 2h10v20l-2-1-2 1-2-1-2 1-2-1-2 1V2z"
                      stroke="rgba(168,85,255,.95)" stroke-width="1.8" stroke-linejoin="round"/>
                <path d="M9 7h6M9 11h6M9 15h4"
                      stroke="rgba(168,85,255,.95)" stroke-width="1.8" stroke-linecap="round"/>
              </svg>
            </div>
            <p class="tileLabel">VENTAS</p>
          </button>

          <button class="tile tecnico" data-role="tecnico" type="button" aria-label="T√©cnico">
            <div class="tileBorder"></div>
            <div class="iconWrap" aria-hidden="true">
              <!-- Wrench -->
              <svg width="34" height="34" viewBox="0 0 24 24" fill="none">
                <path d="M21 7.5a5.5 5.5 0 0 1-7.7 5L7 18.8a2 2 0 0 1-2.8 0l-1-1a2 2 0 0 1 0-2.8l6.3-6.3A5.5 5.5 0 0 1 21 7.5z"
                      stroke="rgba(44,255,198,.95)" stroke-width="1.8" stroke-linejoin="round"/>
                <path d="M16 8l-2 2"
                      stroke="rgba(44,255,198,.95)" stroke-width="1.8" stroke-linecap="round"/>
              </svg>
            </div>
            <p class="tileLabel">T√âCNICO</p>
          </button>
        </div>

        <p class="smallNote">
          Acceso con usuario y contrase√±a. (Esto es un control b√°sico porque todo corre en el navegador).
        </p>
      </div>
    </div>
  </div>

  <!-- LOGIN MODAL -->
  <div class="modalBack" id="loginBack" role="dialog" aria-modal="true">
    <div class="modal fadeIn">
      <div class="modalHead">
        <h3 class="modalTitle" id="loginTitle">Acceso</h3>
        <button class="x" id="closeLogin" type="button">‚úï</button>
      </div>

      <div class="modalBody">
        <p class="help" id="loginRoleLine">Rol: ‚Äî</p>

        <div class="row" style="margin-top:12px;">
          <div class="field">
            <div class="label">Usuario</div>
            <input id="inpUser"
              type="text"
              inputmode="text"
              autocapitalize="none"
              autocorrect="off"
              spellcheck="false"
              placeholder="Ej: admin"
              autocomplete="username" />
          </div>

          <div class="field">
            <div class="label">Contrase√±a</div>
            <div class="pwWrap">
              <input id="inpPass"
                type="password"
                inputmode="text"
                autocapitalize="none"
                autocorrect="off"
                spellcheck="false"
                placeholder="Ej: admin123"
                autocomplete="current-password" />
              <button class="eyeBtn" id="btnEye" type="button" title="Mostrar/Ocultar">üëÅÔ∏è</button>
            </div>
          </div>
        </div>

        <p class="smallNote" id="hintCreds" style="margin-top:10px;">
          Usuarios por defecto:<br>
          <b>Admin:</b> admin / admin123<br>
          <b>Ventas:</b> ventas / ventas123<br>
          <b>T√©cnico:</b> tecnico / tecnico123<br>
          (Luego lo cambiamos en ‚ÄúAjustes Admin‚Äù cuando armemos el sistema completo)
        </p>
      </div>

      <div class="footer">
        <button class="btn neonBlue" id="btnLogin" type="button">Entrar</button>
      </div>
    </div>
  </div>

  <script>
    // ====== ESTADO / DATOS ======
    const LS_KEY = "TE_APP_V1";

    const defaultStore = () => ({
      businessName: "Technology Expert's",
      users: {
        admin:  { user:"admin",   pass:"admin123" },
        ventas: { user:"ventas",  pass:"ventas123" },
        tecnico:{ user:"tecnico", pass:"tecnico123" }
      }
    });

    function loadStore(){
      try{
        const raw = localStorage.getItem(LS_KEY);
        if(!raw) return defaultStore();
        const obj = JSON.parse(raw);
        // rellena faltantes si vienes de versiones viejas
        const d = defaultStore();
        obj.businessName = obj.businessName || d.businessName;
        obj.users = obj.users || d.users;
        obj.users.admin = obj.users.admin || d.users.admin;
        obj.users.ventas = obj.users.ventas || d.users.ventas;
        obj.users.tecnico = obj.users.tecnico || d.users.tecnico;
        return obj;
      }catch(e){
        return defaultStore();
      }
    }

    function saveStore(store){
      localStorage.setItem(LS_KEY, JSON.stringify(store));
    }

    let store = loadStore();

    // ====== UI REFS ======
    const bizName = document.getElementById("bizName");
    const tiles = document.querySelectorAll(".tile");
    const loginBack = document.getElementById("loginBack");
    const closeLogin = document.getElementById("closeLogin");
    const loginRoleLine = document.getElementById("loginRoleLine");
    const loginTitle = document.getElementById("loginTitle");
    const inpUser = document.getElementById("inpUser");
    const inpPass = document.getElementById("inpPass");
    const btnEye = document.getElementById("btnEye");
    const btnLogin = document.getElementById("btnLogin");

    bizName.textContent = store.businessName;

    // ====== LOGIN FLOW ======
    let selectedRole = null;
    let passVisible = false;

    function openLogin(role){
      selectedRole = role;
      loginRoleLine.textContent = "Rol: " + role.toUpperCase();
      loginTitle.textContent = "Acceso";
      inpUser.value = "";
      inpPass.value = "";
      passVisible = false;
      inpPass.type = "password";
      btnEye.textContent = "üëÅÔ∏è";
      loginBack.classList.add("show");

      setTimeout(()=>inpUser.focus(), 80);
    }

    function closeLoginModal(){
      loginBack.classList.remove("show");
    }

    tiles.forEach(t=>{
      t.addEventListener("click", ()=>{
        const role = t.dataset.role;
        openLogin(role);
      });
    });

    closeLogin.addEventListener("click", closeLoginModal);
    loginBack.addEventListener("click", (e)=>{
      if(e.target === loginBack) closeLoginModal();
    });

    btnEye.addEventListener("click", ()=>{
      passVisible = !passVisible;
      inpPass.type = passVisible ? "text" : "password";
      btnEye.textContent = passVisible ? "üôà" : "üëÅÔ∏è";
      inpPass.focus();
      inpPass.setSelectionRange(inpPass.value.length, inpPass.value.length);
    });

    // Enter para iniciar
    inpUser.addEventListener("keydown", (e)=>{ if(e.key === "Enter") inpPass.focus(); });
    inpPass.addEventListener("keydown", (e)=>{ if(e.key === "Enter") doLogin(); });

    // Truco anti-problemas m√≥vil:
    // - usuario siempre min√∫scula
    // - quitamos espacios inicio/fin en user y pass
    function normalizeUser(v){ return (v || "").trim().toLowerCase(); }
    function normalizePass(v){ return (v || "").trim(); }

    btnLogin.addEventListener("click", doLogin);

    function doLogin(){
      if(!selectedRole) return;

      const u = normalizeUser(inpUser.value);
      const p = normalizePass(inpPass.value);

      const expected = store.users[selectedRole] || null;
      if(!expected){
        alert("Rol inv√°lido.");
        return;
      }

      const okUser = normalizeUser(expected.user) === u;
      const okPass = normalizePass(expected.pass) === p;

      if(okUser && okPass){
        closeLoginModal();
        alert("‚úÖ Bienvenido (" + selectedRole.toUpperCase() + ").\n\nListo. Ahora seguimos con √ìrdenes/Ventas/Inventario con este mismo estilo.");
      }else{
        alert("Usuario o contrase√±a incorrectos.\n\nTIP:\n- Usuario en min√∫scula\n- Revisa espacios\n- Usa el üëÅÔ∏è para ver lo que escribiste.");
      }
    }

    // Guarda por si cambiaste el nombre (luego lo haremos desde Ajustes)
    saveStore(store);
  </script>
</body>
</html>

<!doctype html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Technology Expert's</title>
  <meta name="theme-color" content="#070B24" />

  <style>
    :root{
      --bg0:#05071a;
      --bg1:#060b28;
      --bg2:#070f3a;

      --neonA:#3CF2FF;   /* cian */
      --neonB:#9D4DFF;   /* morado */
      --neonC:#3BFF7A;   /* verde */
      --neonD:#FF3CF0;   /* fucsia */

      --txt:#EAF2FF;
      --muted:rgba(234,242,255,.7);
      --glass:rgba(255,255,255,.06);
      --glass2:rgba(255,255,255,.09);

      --shadow: 0 18px 55px rgba(0,0,0,.55);
      --radius: 22px;
      --radius2: 16px;
      --ring: 0 0 0 2px rgba(60,242,255,.25), 0 0 0 6px rgba(157,77,255,.14);
      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family:var(--font);
      color:var(--txt);
      background:
        radial-gradient(1200px 800px at 20% 0%, rgba(157,77,255,.20), transparent 55%),
        radial-gradient(900px 700px at 90% 20%, rgba(60,242,255,.18), transparent 52%),
        radial-gradient(800px 600px at 30% 100%, rgba(59,255,122,.10), transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1) 35%, var(--bg2));
      overflow-x:hidden;
    }

    /* fondo con ‚Äúorbes‚Äù + scanline suave */
    .bg-orbs::before, .bg-orbs::after{
      content:"";
      position:fixed;
      inset:-40vh -30vw;
      pointer-events:none;
      z-index:-2;
      background:
        radial-gradient(300px 240px at 18% 22%, rgba(60,242,255,.24), transparent 65%),
        radial-gradient(340px 280px at 82% 28%, rgba(157,77,255,.22), transparent 68%),
        radial-gradient(380px 320px at 52% 80%, rgba(255,60,240,.12), transparent 70%);
      filter: blur(2px);
      transform: translateZ(0);
    }
    .scanline{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:-1;
      background: repeating-linear-gradient(
        to bottom,
        rgba(255,255,255,.03),
        rgba(255,255,255,.03) 1px,
        transparent 1px,
        transparent 6px
      );
      opacity:.10;
      mix-blend-mode: overlay;
      animation: scan 8s linear infinite;
    }
    @keyframes scan{
      from{ transform: translateY(-40px); }
      to{ transform: translateY(40px); }
    }
    @media (prefers-reduced-motion: reduce){
      .scanline{ animation:none; }
      .float{ animation:none !important; }
    }

    .wrap{
      max-width: 980px;
      margin: 0 auto;
      padding: 22px 14px 60px;
    }

    /* Header */
    .top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-top:6px;
    }
    .brand{
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    .brand h1{
      margin:0;
      font-size: clamp(30px, 5vw, 46px);
      letter-spacing: .2px;
      line-height: 1.0;
      text-shadow: 0 0 22px rgba(60,242,255,.15), 0 0 28px rgba(157,77,255,.12);
    }
    .brand p{
      margin:0;
      color:var(--muted);
      font-size: 14px;
      line-height:1.25;
      max-width: 680px;
    }

    /* tarjetas ‚Äúapp‚Äù */
    .panel{
      margin-top: 18px;
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
      border: 1px solid rgba(255,255,255,.12);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .panel::before{
      content:"";
      position:absolute;
      inset:-2px;
      background: linear-gradient(90deg, rgba(60,242,255,.18), rgba(157,77,255,.14), rgba(255,60,240,.10));
      filter: blur(18px);
      opacity:.55;
      pointer-events:none;
    }
    .panel > .inner{
      position:relative;
      padding: 18px;
    }

    /* Roles grid */
    .roles-title{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:12px;
      margin-bottom: 12px;
    }
    .roles-title h2{
      margin:0;
      font-size: 18px;
      letter-spacing:.2px;
    }
    .badge{
      font-size: 12px;
      color: rgba(234,242,255,.85);
      background: rgba(0,0,0,.25);
      border: 1px solid rgba(255,255,255,.12);
      padding: 6px 10px;
      border-radius: 999px;
      backdrop-filter: blur(10px);
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 12px;
    }
    @media (max-width: 720px){
      .grid{ grid-template-columns: 1fr; }
    }

    /* Bot√≥n tarjeta neon */
    .roleCard{
      appearance:none;
      border: 1px solid rgba(255,255,255,.16);
      background: linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.15));
      border-radius: 18px;
      padding: 16px 14px;
      color: var(--txt);
      width:100%;
      cursor:pointer;
      position:relative;
      overflow:hidden;
      box-shadow: 0 12px 26px rgba(0,0,0,.35);
      transition: transform .12s ease, border-color .12s ease, box-shadow .12s ease;
      min-height: 132px;
    }
    .roleCard:focus{ outline:none; box-shadow: var(--shadow), var(--ring); }
    .roleCard:hover{ transform: translateY(-1px); border-color: rgba(60,242,255,.35); }
    .roleCard:active{ transform: translateY(0px) scale(.99); }

    .roleCard::before{
      content:"";
      position:absolute;
      inset:-2px;
      background: radial-gradient(280px 170px at 30% 20%, rgba(60,242,255,.22), transparent 62%),
                  radial-gradient(260px 160px at 80% 30%, rgba(157,77,255,.20), transparent 65%),
                  radial-gradient(280px 180px at 50% 90%, rgba(255,60,240,.10), transparent 70%);
      opacity:.9;
      pointer-events:none;
      transform: translateZ(0);
    }
    .roleCard::after{
      content:"";
      position:absolute;
      inset:0;
      background: linear-gradient(120deg, transparent 0%, rgba(255,255,255,.10) 40%, transparent 70%);
      transform: translateX(-120%);
      animation: shine 3.2s ease-in-out infinite;
      opacity:.45;
      pointer-events:none;
    }
    @keyframes shine{
      0%{ transform: translateX(-120%); }
      55%{ transform: translateX(120%); }
      100%{ transform: translateX(120%); }
    }

    .roleContent{
      position:relative;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:10px;
      text-align:center;
      min-height: 100%;
    }
    .iconBubble{
      width: 56px;
      height: 56px;
      border-radius: 18px;
      display:grid;
      place-items:center;
      background: rgba(255,255,255,.07);
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: 0 0 0 1px rgba(60,242,255,.10), 0 0 22px rgba(60,242,255,.10);
      font-size: 26px;
    }
    .roleLabel{
      font-size: 17px;
      font-weight: 900;
      letter-spacing:.2px;
      text-transform: none;
      text-shadow: 0 0 14px rgba(60,242,255,.10);
    }
    .roleHint{
      margin-top:-4px;
      font-size: 12px;
      color: rgba(234,242,255,.75);
    }

    /* Login */
    .row{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
    }
    .loginBox{
      margin-top: 14px;
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap: 12px;
    }
    @media (max-width: 860px){
      .loginBox{ grid-template-columns: 1fr; }
    }
    .card{
      background: rgba(0,0,0,.22);
      border: 1px solid rgba(255,255,255,.12);
      border-radius: var(--radius2);
      padding: 14px;
      backdrop-filter: blur(10px);
    }
    .card h3{
      margin: 0 0 10px;
      font-size: 15px;
      letter-spacing:.2px;
    }
    .field{
      display:flex;
      flex-direction:column;
      gap:8px;
      margin: 10px 0;
    }
    label{
      font-size: 12px;
      color: rgba(234,242,255,.75);
    }
    input{
      width:100%;
      background: rgba(0,0,0,.35);
      border: 1px solid rgba(255,255,255,.14);
      border-radius: 14px;
      padding: 12px 12px;
      color: var(--txt);
      font-size: 15px;
      font-weight: 700;
      outline:none;
      transition: border-color .12s ease, box-shadow .12s ease;
    }
    input:focus{
      border-color: rgba(60,242,255,.45);
      box-shadow: var(--ring);
    }
    .btnRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 10px;
    }

    .btn{
      appearance:none;
      border:none;
      cursor:pointer;
      border-radius: 14px;
      padding: 12px 14px;
      font-weight: 900;
      letter-spacing:.2px;
      color: var(--txt);
      background: rgba(0,0,0,.50);
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: 0 12px 22px rgba(0,0,0,.35);
      transition: transform .12s ease, border-color .12s ease, box-shadow .12s ease;
      display:inline-flex;
      align-items:center;
      gap:10px;
    }
    .btn:hover{ transform: translateY(-1px); border-color: rgba(60,242,255,.35); }
    .btn:active{ transform: translateY(0px) scale(.99); }
    .btn.primary{
      background: linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,.28));
      border-color: rgba(60,242,255,.26);
      box-shadow: 0 16px 28px rgba(0,0,0,.40), 0 0 26px rgba(60,242,255,.10);
    }
    .btn.ghost{
      background: rgba(255,255,255,.06);
    }

    .small{
      font-size: 12px;
      color: rgba(234,242,255,.75);
      line-height: 1.25;
    }
    .note{
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px dashed rgba(255,255,255,.16);
      background: rgba(0,0,0,.18);
      color: rgba(234,242,255,.8);
      font-size: 12px;
    }

    /* App area */
    .appHeader{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-top: 10px;
      padding: 12px 14px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.22);
      backdrop-filter: blur(10px);
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: rgba(234,242,255,.90);
      font-size: 12px;
      font-weight: 800;
    }
    .menuGrid{
      margin-top: 12px;
      display:grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap: 12px;
    }
    @media (max-width: 860px){
      .menuGrid{ grid-template-columns: 1fr; }
    }
    .menuBtn{
      min-height: 86px;
      justify-content:center;
    }
    .menuBtn .big{
      font-size: 16px;
      font-weight: 900;
    }
    .hidden{ display:none !important; }

    /* Toast */
    .toast{
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      background: rgba(0,0,0,.55);
      border: 1px solid rgba(255,255,255,.14);
      color: rgba(234,242,255,.92);
      padding: 10px 12px;
      border-radius: 14px;
      backdrop-filter: blur(12px);
      box-shadow: 0 18px 40px rgba(0,0,0,.45);
      max-width: min(520px, 92vw);
      font-size: 13px;
      opacity: 0;
      pointer-events:none;
      transition: opacity .18s ease, transform .18s ease;
      z-index: 50;
    }
    .toast.show{
      opacity: 1;
      transform: translateX(-50%) translateY(-6px);
    }

    /* flotaci√≥n suave para tarjetas */
    .float{
      animation: float 4.2s ease-in-out infinite;
    }
    @keyframes float{
      0%,100%{ transform: translateY(0); }
      50%{ transform: translateY(-4px); }
    }
  </style>
</head>

<body class="bg-orbs">
  <div class="scanline"></div>

  <div class="wrap">
    <div class="top">
      <div class="brand">
        <h1>Technology Expert‚Äôs</h1>
        <p>Ingreso por rol. Todo en un solo archivo (sin servidor por ahora). Dise√±ado para PC, Android y iPhone.</p>
      </div>
    </div>

    <!-- PANTALLA 1: ROLES -->
    <section id="viewRoles" class="panel">
      <div class="inner">
        <div class="roles-title">
          <h2>¬øQui√©n va a ingresar?</h2>
          <span class="badge">Neon Tech ‚Ä¢ Opci√≥n 1A</span>
        </div>

        <div class="grid">
          <button class="roleCard float" onclick="pickRole('admin')" aria-label="Ingresar como Administrador">
            <div class="roleContent">
              <div class="iconBubble">üõ°Ô∏è</div>
              <div class="roleLabel">Administrador</div>
              <div class="roleHint">Configuraci√≥n ‚Ä¢ Exportar ‚Ä¢ Control</div>
            </div>
          </button>

          <button class="roleCard float" style="animation-delay:.2s" onclick="pickRole('ventas')" aria-label="Ingresar como Ventas">
            <div class="roleContent">
              <div class="iconBubble">üí≥</div>
              <div class="roleLabel">Ventas</div>
              <div class="roleHint">Registrar ventas ‚Ä¢ IMEI ‚Ä¢ Tickets</div>
            </div>
          </button>

          <button class="roleCard float" style="animation-delay:.35s" onclick="pickRole('tecnico')" aria-label="Ingresar como T√©cnico">
            <div class="roleContent">
              <div class="iconBubble">üõ†Ô∏è</div>
              <div class="roleLabel">T√©cnico</div>
              <div class="roleHint">√ìrdenes ‚Ä¢ Firma ‚Ä¢ Diagn√≥stico</div>
            </div>
          </button>
        </div>

        <div class="loginBox">
          <div class="card">
            <h3>Acceso con usuario y contrase√±a</h3>
            <div class="note">
              Si quieres, despu√©s agregamos: ‚ÄúCrear usuarios‚Äù, ‚ÄúCambiar contrase√±as‚Äù, y bloqueo por intentos (sin servidor).
            </div>
            <div class="small" style="margin-top:10px">
              Tip: en iPhone/Android esto queda tipo ‚Äúapp‚Äù si lo agregas a pantalla de inicio.
            </div>
          </div>

          <div class="card">
            <h3>Usuarios por defecto</h3>
            <div class="small">
              Admin: <b>admin</b> / <b>admin123</b><br/>
              Ventas: <b>ventas</b> / <b>ventas123</b><br/>
              T√©cnico: <b>tecnico</b> / <b>tecnico123</b>
            </div>
            <div class="btnRow" style="margin-top:12px">
              <button class="btn ghost" onclick="resetUsers()">‚ôªÔ∏è Restaurar usuarios</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- PANTALLA 2: LOGIN -->
    <section id="viewLogin" class="panel hidden">
      <div class="inner">
        <div class="roles-title">
          <h2 id="loginTitle">Ingresar</h2>
          <span class="badge" id="roleBadge">Rol</span>
        </div>

        <div class="loginBox">
          <div class="card">
            <h3>Credenciales</h3>

            <div class="field">
              <label for="user">Usuario</label>
              <input id="user" autocomplete="username" placeholder="Escribe tu usuario" />
            </div>

            <div class="field">
              <label for="pass">Contrase√±a</label>
              <input id="pass" type="password" autocomplete="current-password" placeholder="Escribe tu contrase√±a" />
            </div>

            <div class="btnRow">
              <button class="btn primary" onclick="doLogin()">üîì Entrar</button>
              <button class="btn ghost" onclick="goRoles()">‚¨ÖÔ∏è Volver</button>
            </div>

            <div class="small" style="margin-top:10px">
              Si la contrase√±a est√° mal, no entra. (Luego le metemos seguridad extra).
            </div>
          </div>

          <div class="card">
            <h3>Consejo r√°pido</h3>
            <div class="note">
              Si est√°s en el celular: para evitar que el teclado tape campos,
              usamos dise√±o compacto y botones grandes.
            </div>
            <div class="small" style="margin-top:10px">
              ¬øQuieres que al entrar muestre un ‚Äúpanel‚Äù distinto seg√∫n rol? (Admin vs Ventas vs T√©cnico).
              Ya est√° listo para eso.
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- PANTALLA 3: APP (placeholder, luego conectamos √≥rdenes/ventas/inventario) -->
    <section id="viewApp" class="panel hidden">
      <div class="inner">
        <div class="appHeader">
          <div class="pill" id="sessionPill">‚úÖ Sesi√≥n</div>
          <div class="btnRow" style="margin:0">
            <button class="btn ghost" onclick="logout()">üö™ Salir</button>
          </div>
        </div>

        <div class="menuGrid">
          <button class="btn primary menuBtn" onclick="toast('Aqu√≠ entraremos a Orden de Servicio (modo T√©cnico).')">
            <span class="big">üßæ Orden de servicio</span>
          </button>

          <button class="btn primary menuBtn" onclick="toast('Aqu√≠ entraremos a Ventas (IMEI 1/2 + t√©rminos).')">
            <span class="big">üí≥ Ventas</span>
          </button>

          <button class="btn primary menuBtn" onclick="toast('Aqu√≠ entraremos a Inventario (barcode/QR + foto opcional).')">
            <span class="big">üì¶ Inventario</span>
          </button>
        </div>

        <div style="margin-top:12px" class="card">
          <h3>Lo siguiente que hacemos (ya con sesi√≥n)</h3>
          <div class="small">
            1) Que TODO (botones/campos) siga este estilo Neon Tech en √ìrdenes/Ventas/Inventario. <br/>
            2) Scanner con c√°mara (barcode + QR) sin depender de internet. <br/>
            3) Numeraci√≥n ascendente: OS desde 2100+, Ventas desde 315+. <br/>
            4) Firma obligatoria en Orden de Servicio. <br/>
          </div>
        </div>
      </div>
    </section>
  </div>

  <div id="toast" class="toast"></div>

  <script>
    // =========================
    //  CONFIG / STORAGE
    // =========================
    const LS = {
      users: "te_users_v1",
      session: "te_session_v1"
    };

    const ROLE_META = {
      admin:  { label:"Administrador", icon:"üõ°Ô∏è" },
      ventas: { label:"Ventas",        icon:"üí≥" },
      tecnico:{ label:"T√©cnico",       icon:"üõ†Ô∏è" }
    };

    function loadUsers(){
      const raw = localStorage.getItem(LS.users);
      if(!raw) return null;
      try { return JSON.parse(raw); } catch { return null; }
    }
    function saveUsers(u){
      localStorage.setItem(LS.users, JSON.stringify(u));
    }
    function ensureUsers(){
      let u = loadUsers();
      if(u) return u;
      u = {
        admin:  { username:"admin",   password:"admin123" },
        ventas: { username:"ventas",  password:"ventas123" },
        tecnico:{ username:"tecnico", password:"tecnico123" }
      };
      saveUsers(u);
      return u;
    }

    function saveSession(session){
      localStorage.setItem(LS.session, JSON.stringify(session));
    }
    function loadSession(){
      const raw = localStorage.getItem(LS.session);
      if(!raw) return null;
      try { return JSON.parse(raw); } catch { return null; }
    }
    function clearSession(){
      localStorage.removeItem(LS.session);
    }

    // =========================
    //  UI HELPERS
    // =========================
    const viewRoles = document.getElementById("viewRoles");
    const viewLogin = document.getElementById("viewLogin");
    const viewApp   = document.getElementById("viewApp");

    const loginTitle = document.getElementById("loginTitle");
    const roleBadge  = document.getElementById("roleBadge");
    const sessionPill= document.getElementById("sessionPill");

    const userInput = document.getElementById("user");
    const passInput = document.getElementById("pass");

    let selectedRole = null;

    function show(which){
      viewRoles.classList.toggle("hidden", which !== "roles");
      viewLogin.classList.toggle("hidden", which !== "login");
      viewApp.classList.toggle("hidden",   which !== "app");
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    function toast(msg){
      const el = document.getElementById("toast");
      el.textContent = msg;
      el.classList.add("show");
      clearTimeout(window.__t);
      window.__t = setTimeout(()=>el.classList.remove("show"), 2400);
    }

    // =========================
    //  FLOW
    // =========================
    ensureUsers();

    function pickRole(role){
      selectedRole = role;
      const meta = ROLE_META[role] || { label:"Acceso", icon:"üîê" };
      loginTitle.textContent = `Ingresar ‚Ä¢ ${meta.label}`;
      roleBadge.textContent = `${meta.icon} ${meta.label}`;
      userInput.value = "";
      passInput.value = "";
      show("login");
      setTimeout(()=>userInput.focus(), 50);
    }

    function goRoles(){
      selectedRole = null;
      show("roles");
    }

    function doLogin(){
      const users = ensureUsers();
      if(!selectedRole){
        toast("Primero elige un rol.");
        show("roles");
        return;
      }

      const u = (userInput.value || "").trim();
      const p = (passInput.value || "").trim();
      if(!u || !p){
        toast("Completa usuario y contrase√±a.");
        return;
      }

      // Validaci√≥n: el rol exige sus credenciales
      const ref = users[selectedRole];
      if(!ref){
        toast("Rol inv√°lido.");
        return;
      }

      if(u === ref.username && p === ref.password){
        const meta = ROLE_META[selectedRole];
        saveSession({ role: selectedRole, username: u, at: Date.now() });
        sessionPill.textContent = `‚úÖ Sesi√≥n: ${meta.icon} ${meta.label} ‚Ä¢ ${u}`;
        show("app");
        toast("Listo. Sesi√≥n iniciada.");
      } else {
        toast("Usuario o contrase√±a incorrectos.");
      }
    }

    function logout(){
      clearSession();
      toast("Sesi√≥n cerrada.");
      goRoles();
    }

    function resetUsers(){
      localStorage.removeItem(LS.users);
      ensureUsers();
      toast("Usuarios por defecto restaurados.");
    }

    // Enter para iniciar sesi√≥n
    passInput.addEventListener("keydown", (e)=>{
      if(e.key === "Enter") doLogin();
    });
    userInput.addEventListener("keydown", (e)=>{
      if(e.key === "Enter") passInput.focus();
    });

    // Auto-restore session
    (function boot(){
      const s = loadSession();
      if(!s || !s.role) return;
      const meta = ROLE_META[s.role] || { label:"", icon:"‚úÖ" };
      sessionPill.textContent = `‚úÖ Sesi√≥n: ${meta.icon} ${meta.label} ‚Ä¢ ${s.username || ""}`;
      show("app");
    })();
  </script>
</body>
</html>

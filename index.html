<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#070B24" />
  <title>Technology Expert‚Äôs</title>

  <style>
    :root{
      --bg0:#05071a;
      --bg1:#060b28;
      --bg2:#070f3a;

      /* Neon Tech (Colores A) */
      --neonCyan:#3CF2FF;
      --neonBlue:#4B6BFF;

      --txt:#EAF2FF;
      --muted:rgba(234,242,255,.72);

      --glass:rgba(255,255,255,.06);
      --stroke:rgba(255,255,255,.12);

      --shadow: 0 18px 55px rgba(0,0,0,.55);
      --radius: 22px;
      --radius2: 16px;

      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }

    *{ box-sizing:border-box; -webkit-tap-highlight-color:transparent; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family:var(--font);
      color:var(--txt);
      background:
        radial-gradient(1200px 800px at 18% 0%, rgba(75,107,255,.20), transparent 55%),
        radial-gradient(1000px 700px at 92% 18%, rgba(60,242,255,.18), transparent 52%),
        linear-gradient(180deg, var(--bg0), var(--bg1) 35%, var(--bg2));
      overflow-x:hidden;
      padding: calc(16px + env(safe-area-inset-top)) 16px calc(16px + env(safe-area-inset-bottom));
    }

    /* scanline suave */
    .scanline{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:-1;
      background: repeating-linear-gradient(
        to bottom,
        rgba(255,255,255,.03),
        rgba(255,255,255,.03) 1px,
        transparent 1px,
        transparent 7px
      );
      opacity:.10;
      mix-blend-mode: overlay;
      animation: scan 8s linear infinite;
    }
    @keyframes scan{
      from{ transform: translateY(-40px); }
      to{ transform: translateY(40px); }
    }
    @media (prefers-reduced-motion: reduce){
      .scanline{ animation:none; }
      .roleCard::after{ animation:none; }
      .btn:hover{ transform:none; }
    }

    .wrap{
      max-width: 980px;
      margin: 0 auto;
    }

    /* Panel estilo app */
    .panel{
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
      backdrop-filter: blur(10px);
    }
    .panel::before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(320px 240px at 20% 15%, rgba(60,242,255,.18), transparent 62%),
        radial-gradient(340px 260px at 80% 20%, rgba(75,107,255,.16), transparent 65%);
      filter: blur(18px);
      opacity:.75;
      pointer-events:none;
    }
    .inner{
      position:relative;
      padding: 18px;
    }

    .brandTitle{
      margin: 6px 0 4px;
      font-size: clamp(30px, 5vw, 46px);
      letter-spacing: .2px;
      line-height: 1.0;
      text-shadow: 0 0 18px rgba(60,242,255,.18), 0 0 26px rgba(75,107,255,.12);
      font-weight: 950;
    }
    .sub{
      margin:0;
      color:var(--muted);
      font-size: 14px;
      line-height: 1.25;
      font-weight: 750;
    }

    .row{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
    }

    .badge{
      font-size: 12px;
      color: rgba(234,242,255,.85);
      background: rgba(0,0,0,.25);
      border: 1px solid rgba(255,255,255,.12);
      padding: 6px 10px;
      border-radius: 999px;
      backdrop-filter: blur(10px);
      font-weight: 900;
    }

    /* Roles grid */
    .gridRoles{
      display:grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap: 12px;
      margin-top: 14px;
    }
    @media (max-width: 760px){
      .gridRoles{ grid-template-columns: 1fr; }
    }

    /* Tarjeta rol Neon Tech (con SVG + texto abajo) */
    .roleCard{
      appearance:none;
      border: 1px solid rgba(255,255,255,.16);
      background: linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.12));
      border-radius: 18px;
      padding: 16px 14px;
      color: var(--txt);
      width:100%;
      cursor:pointer;
      position:relative;
      overflow:hidden;
      box-shadow: 0 12px 26px rgba(0,0,0,.35);
      transition: transform .12s ease, border-color .12s ease, box-shadow .12s ease;
      min-height: 148px;
      text-align:center;
    }
    .roleCard:focus{ outline:none; box-shadow: var(--shadow), 0 0 0 2px rgba(60,242,255,.25), 0 0 0 6px rgba(75,107,255,.14); }
    .roleCard:hover{ transform: translateY(-1px); border-color: rgba(60,242,255,.45); box-shadow: 0 16px 34px rgba(0,0,0,.45), 0 0 18px rgba(60,242,255,.12); }
    .roleCard:active{ transform: translateY(0px) scale(.99); }

    .roleCard::before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(280px 190px at 25% 20%, rgba(60,242,255,.22), transparent 62%),
        radial-gradient(260px 180px at 80% 30%, rgba(75,107,255,.20), transparent 65%);
      opacity:.9;
      pointer-events:none;
    }
    .roleCard::after{
      content:"";
      position:absolute;
      inset:0;
      background: linear-gradient(120deg, transparent 0%, rgba(255,255,255,.10) 40%, transparent 70%);
      transform: translateX(-120%);
      animation: shine 3.0s ease-in-out infinite;
      opacity:.35;
      pointer-events:none;
    }
    @keyframes shine{
      0%{ transform: translateX(-120%); }
      55%{ transform: translateX(120%); }
      100%{ transform: translateX(120%); }
    }

    .roleIconWrap{
      width: 64px;
      height: 64px;
      margin: 2px auto 10px;
      border-radius: 18px;
      display:grid;
      place-items:center;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: 0 0 0 1px rgba(60,242,255,.10), 0 0 24px rgba(60,242,255,.10);
      position:relative;
    }
    .roleIconWrap svg{
      width: 42px;
      height: 42px;
      filter: drop-shadow(0 0 10px rgba(60,242,255,.25));
    }
    .roleLabel{
      font-size: 17px;
      font-weight: 950;
      letter-spacing:.2px;
      margin-top:2px;
      text-shadow: 0 0 14px rgba(60,242,255,.12);
    }
    .roleHint{
      margin-top:4px;
      font-size: 12px;
      color: rgba(234,242,255,.75);
      font-weight: 800;
    }

    /* Cards internas */
    .card{
      background: rgba(0,0,0,.22);
      border: 1px solid rgba(255,255,255,.12);
      border-radius: var(--radius2);
      padding: 14px;
      backdrop-filter: blur(10px);
      box-shadow: 0 10px 22px rgba(0,0,0,.28);
    }
    .card h3{
      margin: 0 0 10px;
      font-size: 15px;
      letter-spacing:.2px;
      font-weight: 950;
    }
    .note{
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px dashed rgba(255,255,255,.16);
      background: rgba(0,0,0,.18);
      color: rgba(234,242,255,.82);
      font-size: 12px;
      font-weight: 800;
      line-height: 1.35;
    }

    /* Login layout */
    .grid2{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap: 12px;
      margin-top: 14px;
    }
    @media (max-width: 860px){
      .grid2{ grid-template-columns: 1fr; }
    }

    label{
      font-size: 12px;
      color: rgba(234,242,255,.75);
      font-weight: 850;
    }
    input, textarea, select{
      width:100%;
      background: rgba(0,0,0,.45);
      border: 1px solid rgba(255,255,255,.14);
      border-radius: 14px;
      padding: 12px 12px;
      color: var(--txt);
      font-size: 15px;
      font-weight: 800;
      outline:none;
      transition: border-color .12s ease, box-shadow .12s ease;
    }
    textarea{ min-height: 110px; resize:vertical; }
    input::placeholder, textarea::placeholder{ color: rgba(234,242,255,.52); }
    input:focus, textarea:focus, select:focus{
      border-color: rgba(60,242,255,.55);
      box-shadow: 0 0 0 2px rgba(60,242,255,.20), 0 0 0 6px rgba(75,107,255,.12);
    }

    .btnRow{ display:flex; gap:10px; flex-wrap:wrap; margin-top: 10px; }

    /* Botones Neon Tech (opci√≥n 1A) */
    .btn{
      appearance:none;
      cursor:pointer;
      border-radius: 14px;
      padding: 12px 14px;
      font-weight: 950;
      letter-spacing:.2px;
      color: var(--txt);
      background: linear-gradient(180deg, rgba(0,0,0,.62), rgba(0,0,0,.30));
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: 0 12px 22px rgba(0,0,0,.35), 0 0 0 1px rgba(60,242,255,.08) inset;
      transition: transform .12s ease, border-color .12s ease, box-shadow .12s ease;
      display:inline-flex;
      align-items:center;
      gap:10px;
    }
    .btn:hover{ transform: translateY(-1px); border-color: rgba(60,242,255,.45); box-shadow: 0 16px 30px rgba(0,0,0,.45), 0 0 18px rgba(60,242,255,.14); }
    .btn:active{ transform: translateY(0px) scale(.99); }
    .btn.primary{
      border-color: rgba(60,242,255,.26);
      box-shadow: 0 16px 28px rgba(0,0,0,.45), 0 0 24px rgba(60,242,255,.10);
    }
    .btn.ghost{ background: rgba(255,255,255,.06); }

    .small{ font-size:12px; color: rgba(234,242,255,.75); font-weight: 800; line-height:1.25; }

    /* App header */
    .appHeader{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-top: 12px;
      padding: 12px 14px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.22);
      backdrop-filter: blur(10px);
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: rgba(234,242,255,.90);
      font-size: 12px;
      font-weight: 900;
    }
    .menuGrid{
      margin-top: 12px;
      display:grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap: 12px;
    }
    @media (max-width: 860px){
      .menuGrid{ grid-template-columns: 1fr; }
    }
    .menuBtn{ width:100%; justify-content:center; min-height: 86px; }

    .hidden{ display:none !important; }

    /* Toast */
    .toast{
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      background: rgba(0,0,0,.55);
      border: 1px solid rgba(255,255,255,.14);
      color: rgba(234,242,255,.92);
      padding: 10px 12px;
      border-radius: 14px;
      backdrop-filter: blur(12px);
      box-shadow: 0 18px 40px rgba(0,0,0,.45);
      max-width: min(520px, 92vw);
      font-size: 13px;
      opacity: 0;
      pointer-events:none;
      transition: opacity .18s ease, transform .18s ease;
      z-index: 50;
      font-weight: 900;
    }
    .toast.show{
      opacity: 1;
      transform: translateX(-50%) translateY(-6px);
    }
  </style>
</head>

<body>
<div class="scanline"></div>

<div class="wrap">
  <section class="panel">
    <div class="inner">
      <div class="row" style="align-items:flex-end;">
        <div>
          <div class="brandTitle">Technology Expert‚Äôs</div>
          <p class="sub">Selecciona tu rol para ingresar. (Dise√±o Neon Tech ‚Ä¢ Opci√≥n 1 ‚Ä¢ Colores A ‚Ä¢ Animaci√≥n)</p>
        </div>
        <span class="badge">PC ‚Ä¢ Android ‚Ä¢ iPhone</span>
      </div>

      <!-- VIEW: ROLES -->
      <div id="viewRoles">
        <div class="gridRoles">
          <!-- ADMIN -->
          <button class="roleCard" type="button" onclick="pickRole('admin')" aria-label="Ingresar como Administrador">
            <div class="roleIconWrap" aria-hidden="true">
              <!-- Neon Tech SVG: Shield + check -->
              <svg viewBox="0 0 24 24" fill="none">
                <path d="M12 2l7 4v6c0 5-3 9-7 10-4-1-7-5-7-10V6l7-4z"
                      stroke="rgba(60,242,255,.95)" stroke-width="2" />
                <path d="M9 12l2 2 4-5"
                      stroke="rgba(75,107,255,.95)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <div class="roleLabel">Administrador</div>
            <div class="roleHint">Control total ‚Ä¢ Exportar ‚Ä¢ Borrar</div>
          </button>

          <!-- VENTAS (el estilo que acordamos: Neon Tech, no tarjeta gen√©rica) -->
          <button class="roleCard" type="button" onclick="pickRole('ventas')" aria-label="Ingresar como Ventas">
            <div class="roleIconWrap" aria-hidden="true">
              <!-- Neon Tech SVG: POS / Receipt -->
              <svg viewBox="0 0 24 24" fill="none">
                <path d="M7 3h10v18l-2-1-2 1-2-1-2 1-2-1-2 1V3z"
                      stroke="rgba(60,242,255,.95)" stroke-width="2" stroke-linejoin="round"/>
                <path d="M9 7h6M9 10h6M9 13h4"
                      stroke="rgba(75,107,255,.95)" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </div>
            <div class="roleLabel">Ventas</div>
            <div class="roleHint">Facturar ‚Ä¢ IMEI ‚Ä¢ Tickets</div>
          </button>

          <!-- T√âCNICO -->
          <button class="roleCard" type="button" onclick="pickRole('tecnico')" aria-label="Ingresar como T√©cnico">
            <div class="roleIconWrap" aria-hidden="true">
              <!-- Neon Tech SVG: Wrench -->
              <svg viewBox="0 0 24 24" fill="none">
                <path d="M14 7a4 4 0 11-6 3l-5 5 2 2 2-2 1 1-2 2 2 2 5-5a4 4 0 006-3 4 4 0 00-5-5z"
                      stroke="rgba(60,242,255,.95)" stroke-width="2" stroke-linejoin="round"/>
                <path d="M8 10l6 6"
                      stroke="rgba(75,107,255,.95)" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </div>
            <div class="roleLabel">T√©cnico</div>
            <div class="roleHint">√ìrdenes ‚Ä¢ Firma ‚Ä¢ Checklist</div>
          </button>
        </div>

        <div class="grid2">
          <div class="card">
            <h3>Acceso con usuario y contrase√±a</h3>
            <div class="note">
              Por defecto:<br>
              Admin: <b>admin</b> / <b>admin123</b><br>
              Ventas: <b>ventas</b> / <b>ventas123</b><br>
              T√©cnico: <b>tecnico</b> / <b>tecnico123</b><br><br>
              (Luego te pongo un panel para que el Admin cambie usuarios/contrase√±as sin tocar c√≥digo.)
            </div>
          </div>

          <div class="card">
            <h3>Recomendaci√≥n en celular</h3>
            <div class="small">
              Si lo quieres como ‚Äúapp‚Äù en iPhone/Android: abre en Chrome/Safari y usa ‚ÄúAgregar a pantalla de inicio‚Äù.
            </div>
            <div class="btnRow" style="margin-top:12px;">
              <button class="btn ghost" type="button" onclick="resetUsers()">‚ôªÔ∏è Restaurar usuarios</button>
            </div>
          </div>
        </div>
      </div>

      <!-- VIEW: LOGIN -->
      <div id="viewLogin" class="hidden">
        <div class="row" style="margin-top:14px;">
          <div>
            <div style="font-weight:950; font-size:18px;" id="loginTitle">Ingresar</div>
            <div class="small" id="loginHint">‚Äî</div>
          </div>
          <span class="badge" id="roleBadge">Rol</span>
        </div>

        <div class="grid2">
          <div class="card">
            <h3>Credenciales</h3>
            <div style="display:flex;flex-direction:column;gap:10px;">
              <div>
                <label for="user">Usuario</label>
                <input id="user" autocomplete="username" placeholder="Escribe tu usuario" />
              </div>
              <div>
                <label for="pass">Contrase√±a</label>
                <input id="pass" type="password" autocomplete="current-password" placeholder="Escribe tu contrase√±a" />
              </div>
            </div>

            <div class="btnRow">
              <button class="btn primary" type="button" onclick="doLogin()">üîì Entrar</button>
              <button class="btn ghost" type="button" onclick="goRoles()">‚¨ÖÔ∏è Volver</button>
            </div>

            <div class="small" style="margin-top:10px;">
              Enter en el teclado = entrar.
            </div>
          </div>

          <div class="card">
            <h3>Seguridad</h3>
            <div class="note">
              Aqu√≠ luego activamos (si quieres): bloqueo por intentos, PIN r√°pido, y permisos por rol.
              Todo sin depender de servidor.
            </div>
          </div>
        </div>
      </div>

      <!-- VIEW: APP HOME -->
      <div id="viewApp" class="hidden">
        <div class="appHeader">
          <div class="pill" id="sessionPill">‚úÖ Sesi√≥n</div>
          <div class="btnRow" style="margin:0;">
            <button class="btn ghost" type="button" onclick="logout()">üö™ Salir</button>
          </div>
        </div>

        <div class="menuGrid">
          <button class="btn primary menuBtn" type="button" onclick="toast('Siguiente: conectamos Orden de Servicio con firma obligatoria.')">
            üßæ Orden de servicio
          </button>

          <button class="btn primary menuBtn" type="button" onclick="toast('Siguiente: conectamos Ventas con IMEI 1/2 y t√©rminos.')">
            üí≥ Ventas
          </button>

          <button class="btn primary menuBtn" type="button" onclick="toast('Siguiente: conectamos Inventario con esc√°ner y foto opcional.')">
            üì¶ Inventario
          </button>
        </div>

        <div style="margin-top:12px;" class="card">
          <h3>Confirmaci√≥n de dise√±o</h3>
          <div class="small">
            Ya qued√≥ el inicio con √≠conos Neon Tech (SVG) + texto abajo.<br>
            Si en tu celular todav√≠a ves algo viejo: borra cach√© del navegador o recarga fuerte (Android: mantener recargar / iPhone: cerrar pesta√±a y abrir de nuevo).
          </div>
        </div>
      </div>

    </div>
  </section>
</div>

<div id="toast" class="toast"></div>

<script>
  const LS = {
    users: "te_users_v2",
    session: "te_session_v2"
  };

  const ROLE_META = {
    admin:  { label:"Administrador", hint:"Control total" },
    ventas: { label:"Ventas",        hint:"Facturar y ventas" },
    tecnico:{ label:"T√©cnico",       hint:"√ìrdenes y reparaci√≥n" }
  };

  function loadUsers(){
    const raw = localStorage.getItem(LS.users);
    if(!raw) return null;
    try { return JSON.parse(raw); } catch { return null; }
  }
  function saveUsers(u){ localStorage.setItem(LS.users, JSON.stringify(u)); }
  function ensureUsers(){
    let u = loadUsers();
    if(u) return u;
    u = {
      admin:  { username:"admin",   password:"admin123" },
      ventas: { username:"ventas",  password:"ventas123" },
      tecnico:{ username:"tecnico", password:"tecnico123" }
    };
    saveUsers(u);
    return u;
  }
  function resetUsers(){
    localStorage.removeItem(LS.users);
    ensureUsers();
    toast("Usuarios por defecto restaurados ‚úÖ");
  }

  function saveSession(session){ localStorage.setItem(LS.session, JSON.stringify(session)); }
  function loadSession(){
    const raw = localStorage.getItem(LS.session);
    if(!raw) return null;
    try { return JSON.parse(raw); } catch { return null; }
  }
  function clearSession(){ localStorage.removeItem(LS.session); }

  const viewRoles = document.getElementById("viewRoles");
  const viewLogin = document.getElementById("viewLogin");
  const viewApp   = document.getElementById("viewApp");

  const loginTitle = document.getElementById("loginTitle");
  const loginHint  = document.getElementById("loginHint");
  const roleBadge  = document.getElementById("roleBadge");
  const sessionPill= document.getElementById("sessionPill");

  const userInput = document.getElementById("user");
  const passInput = document.getElementById("pass");

  let selectedRole = null;

  function show(which){
    viewRoles.classList.toggle("hidden", which !== "roles");
    viewLogin.classList.toggle("hidden", which !== "login");
    viewApp.classList.toggle("hidden",   which !== "app");
    window.scrollTo({ top: 0, behavior: "smooth" });
  }

  function toast(msg){
    const el = document.getElementById("toast");
    el.textContent = msg;
    el.classList.add("show");
    clearTimeout(window.__t);
    window.__t = setTimeout(()=>el.classList.remove("show"), 2400);
  }

  function pickRole(role){
    ensureUsers();
    selectedRole = role;
    const meta = ROLE_META[role] || { label:"Acceso", hint:"" };
    loginTitle.textContent = `Ingresar ‚Ä¢ ${meta.label}`;
    loginHint.textContent = meta.hint || "";
    roleBadge.textContent = meta.label;
    userInput.value = "";
    passInput.value = "";
    show("login");
    setTimeout(()=>userInput.focus(), 60);
  }

  function goRoles(){
    selectedRole = null;
    show("roles");
  }

  function doLogin(){
    const users = ensureUsers();
    if(!selectedRole){
      toast("Primero elige un rol.");
      show("roles");
      return;
    }
    const u = (userInput.value || "").trim();
    const p = (passInput.value || "").trim();
    if(!u || !p){
      toast("Completa usuario y contrase√±a.");
      return;
    }
    const ref = users[selectedRole];
    if(!ref){
      toast("Rol inv√°lido.");
      return;
    }
    if(u === ref.username && p === ref.password){
      saveSession({ role: selectedRole, username: u, at: Date.now() });
      const meta = ROLE_META[selectedRole];
      sessionPill.textContent = `‚úÖ Sesi√≥n: ${meta.label} ‚Ä¢ ${u}`;
      show("app");
      toast("Sesi√≥n iniciada ‚úÖ");
    } else {
      toast("Usuario o contrase√±a incorrectos.");
    }
  }

  function logout(){
    clearSession();
    toast("Sesi√≥n cerrada.");
    goRoles();
  }

  // Enter para iniciar sesi√≥n
  passInput.addEventListener("keydown", (e)=>{
    if(e.key === "Enter") doLogin();
  });
  userInput.addEventListener("keydown", (e)=>{
    if(e.key === "Enter") passInput.focus();
  });

  // Boot
  (function boot(){
    ensureUsers();
    const s = loadSession();
    if(!s || !s.role) return;
    const meta = ROLE_META[s.role] || { label:"Usuario" };
    sessionPill.textContent = `‚úÖ Sesi√≥n: ${meta.label} ‚Ä¢ ${s.username || ""}`;
    show("app");
  })();
</script>
</body>
</html>
